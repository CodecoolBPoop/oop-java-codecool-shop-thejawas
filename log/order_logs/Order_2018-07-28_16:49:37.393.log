[16:49:47.097] 9904 [qtp142261320-16] TRACE c.c.s.controller.ProductController [ProductController.java:55] - Amazon Fire successfully added to cart
[16:49:48.471] 11278 [qtp142261320-16] TRACE c.c.s.controller.PaymentController [ShoppingCartController.java:37] - Shopping cart editor page displayed
[16:49:50.526] 13333 [qtp142261320-18] TRACE c.c.s.controller.PaymentController [ReviewController.java:33] - Get request received for SHOPPING CART REVIEW page
[16:49:51.481] 14288 [qtp142261320-18] TRACE c.c.s.controller.CheckOutController [CheckOutController.java:35] - Get request received for CHECKOUT page
[16:49:59.282] 22089 [qtp142261320-18] TRACE c.c.s.controller.CheckOutController [CheckOutController.java:67] - User data is saved in json file. Order ID: dccf6384-d1c2-46b0-b65d-6403793906ec
[16:49:59.293] 22100 [qtp142261320-21] TRACE c.c.s.controller.PaymentController [PaymentController.java:29] - Get request received for PAYMENT page
[16:50:02.881] 25688 [qtp142261320-21] DEBUG com.paypal.base.ConfigManager [ConfigManager.java:95] - sdk_config.properties not present. Skipping...
[16:50:03.104] 25911 [qtp142261320-21] DEBUG c.p.base.rest.OAuthTokenCredential [OAuthTokenCredential.java:378] - request header: {Authorization=Basic QVdUcW12T2Z4dTJWbk5pZk5RYmxSbUQ4dHk2enZ1YW03SGhfazM2TUhrOHNiWXVaZEV0UjNnbmVMeXVLXzNBN0VfQXpabTBBV3Itck5WQTM6RUNZZ1hxZGxMQnhRc0NIaGR3TXQ0eXoxTFU1TzVuNmNobUplM0VIcmhHZnRzVU9pTjVQYm1lcmdOXzBfbHFRY0ZsLUp6ekMxZXA2OEpHNUk=, Accept=application/json, User-Agent=PayPalSDK/PayPal-Java-SDK 1.14.0 (v=1.8.0_181; vendor=Oracle Corporation; bit=64; os=Linux 4.15.0-29-generic), Content-Type=application/x-www-form-urlencoded}
[16:50:03.104] 25911 [qtp142261320-21] DEBUG c.p.base.rest.OAuthTokenCredential [OAuthTokenCredential.java:379] - request body: grant_type=client_credentials
[16:50:03.105] 25912 [qtp142261320-21] DEBUG com.paypal.base.HttpConnection [HttpConnection.java:225] - curl command: 
curl --verbose --request POST 'https://api.sandbox.paypal.com/v1/oauth2/token' \
  --header "Authorization:Basic QVdUcW12T2Z4dTJWbk5pZk5RYmxSbUQ4dHk2enZ1YW03SGhfazM2TUhrOHNiWXVaZEV0UjNnbmVMeXVLXzNBN0VfQXpabTBBV3Itck5WQTM6RUNZZ1hxZGxMQnhRc0NIaGR3TXQ0eXoxTFU1TzVuNmNobUplM0VIcmhHZnRzVU9pTjVQYm1lcmdOXzBfbHFRY0ZsLUp6ekMxZXA2OEpHNUk=" \
  --header "Accept:application/json" \
  --header "User-Agent:PayPalSDK/PayPal-Java-SDK 1.14.0 (v=1.8.0_181; vendor=Oracle Corporation; bit=64; os=Linux 4.15.0-29-generic)" \
  --header "Content-Type:application/x-www-form-urlencoded" \
  --data 'grant_type=client_credentials'
[16:50:04.133] 26940 [qtp142261320-21] DEBUG c.p.base.rest.OAuthTokenCredential [OAuthTokenCredential.java:385] - response header: {paypal-debug-id=[bd15d9b0eef8a], null=[HTTP/1.1 200 OK], Paypal-Debug-Id=[bd15d9b0eef8a], Server=[Apache], Connection=[close], Vary=[Authorization], Set-Cookie=[X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT, X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2609011803%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Sat, 28 Jul 2018 15:20:04 GMT; domain=.paypal.com; path=/; Secure; HttpOnly], HTTP_X_PP_AZ_LOCATOR=[sandbox.slc], Content-Length=[876], X-PAYPAL-TOKEN-SERVICE=[IAAS], Date=[Sat, 28 Jul 2018 14:50:03 GMT], Content-Type=[application/json]}
[16:50:04.134] 26941 [qtp142261320-21] DEBUG c.p.base.rest.OAuthTokenCredential [OAuthTokenCredential.java:386] - response: {"scope":"https://api.paypal.com/v1/payments/.* https://uri.paypal.com/services/payments/refund https://uri.paypal.com/services/applications/webhooks https://uri.paypal.com/services/payments/payment/authcapture https://uri.paypal.com/payments/payouts https://api.paypal.com/v1/vault/credit-card/.* https://uri.paypal.com/services/disputes/read-seller https://uri.paypal.com/services/subscriptions https://uri.paypal.com/services/disputes/read-buyer https://api.paypal.com/v1/vault/credit-card openid https://uri.paypal.com/services/disputes/update-seller https://uri.paypal.com/services/payments/realtimepayment","nonce":"2018-07-28T14:15:04Z8qYZl1g4ApkL5-DCBkth0SdOsWUA_Zw2cs0xmbA5hiI","access_token":"A21AAHBtkgkrlXjYdp6jV7cINU0EIt5XGjDScVm1yIvpkltNuxQ6r71LL7IURvLS_2FZmOEwKKlB_dokJvTqPtSz8CecPPS1A","token_type":"Bearer","app_id":"APP-80W284485P519543T","expires_in":30300}
[16:50:04.150] 26957 [qtp142261320-21] DEBUG com.paypal.base.rest.PayPalResource [PayPalResource.java:412] - request header: {Authorization=Bearer A21AAHBtkgkrlXjYdp6jV7cINU0EIt5XGjDScVm1yIvpkltNuxQ6r71LL7IURvLS_2FZmOEwKKlB_dokJvTqPtSz8CecPPS1A, User-Agent=PayPalSDK/  (v=1.8.0_181; vendor=Oracle Corporation; bit=64; os=Linux 4.15.0-29-generic), PayPal-Request-Id=7298300a-65a0-4164-a6b9-13e022e6ea0d, Accept=application/json, Content-Type=application/json}
[16:50:04.151] 26958 [qtp142261320-21] DEBUG com.paypal.base.rest.PayPalResource [PayPalResource.java:413] - request body: {
  "intent": "sale",
  "payer": {
    "payment_method": "paypal",
    "payer_info": {
      "first_name": "Gates",
      "last_name": "Bill",
      "billing_address": {
        "line1": "Magyar utca 5",
        "city": "Barcs",
        "country_code": "HU",
        "postal_code": "7570"
      }
    }
  },
  "transactions": [
    {
      "amount": {
        "currency": "USD",
        "total": "49.91"
      },
      "description": "Payment page",
      "item_list": {
        "items": [
          {
            "name": "Amazon Fire",
            "quantity": "1",
            "price": "49.91",
            "currency": "USD",
            "category": "PHYSICAL"
          }
        ],
        "shipping_address": {
          "line1": "Magyar utca 5",
          "city": "Barcs",
          "country_code": "HU",
          "postal_code": "7570"
        }
      }
    }
  ],
  "redirect_urls": {
    "return_url": "http://localhost:8080/done",
    "cancel_url": "http://localhost:8080/cancel"
  }
}
[16:50:04.152] 26959 [qtp142261320-21] DEBUG com.paypal.base.HttpConnection [HttpConnection.java:225] - curl command: 
curl --verbose --request POST 'https://api.sandbox.paypal.com/v1/payments/payment' \
  --header "Authorization:Bearer A21AAHBtkgkrlXjYdp6jV7cINU0EIt5XGjDScVm1yIvpkltNuxQ6r71LL7IURvLS_2FZmOEwKKlB_dokJvTqPtSz8CecPPS1A" \
  --header "User-Agent:PayPalSDK/  (v=1.8.0_181; vendor=Oracle Corporation; bit=64; os=Linux 4.15.0-29-generic)" \
  --header "PayPal-Request-Id:7298300a-65a0-4164-a6b9-13e022e6ea0d" \
  --header "Accept:application/json" \
  --header "Content-Type:application/json" \
  --data '{
  "intent": "sale",
  "payer": {
    "payment_method": "paypal",
    "payer_info": {
      "first_name": "Gates",
      "last_name": "Bill",
      "billing_address": {
        "line1": "Magyar utca 5",
        "city": "Barcs",
        "country_code": "HU",
        "postal_code": "7570"
      }
    }
  },
  "transactions": [
    {
      "amount": {
        "currency": "USD",
        "total": "49.91"
      },
      "description": "Payment page",
      "item_list": {
        "items": [
          {
            "name": "Amazon Fire",
            "quantity": "1",
            "price": "49.91",
            "currency": "USD",
            "category": "PHYSICAL"
          }
        ],
        "shipping_address": {
          "line1": "Magyar utca 5",
          "city": "Barcs",
          "country_code": "HU",
          "postal_code": "7570"
        }
      }
    }
  ],
  "redirect_urls": {
    "return_url": "http://localhost:8080/done",
    "cancel_url": "http://localhost:8080/cancel"
  }
}'
[16:50:05.474] 28281 [qtp142261320-21] DEBUG com.paypal.base.rest.PayPalResource [PayPalResource.java:423] - response: {"id":"PAY-9SP84070U01516343LNOIFHI","intent":"sale","state":"created","payer":{"payment_method":"paypal","payer_info":{"first_name":"Gates","last_name":"Bill","billing_address":{"line1":"Magyar utca 5","city":"Barcs","postal_code":"7570","country_code":"HU"}}},"transactions":[{"amount":{"total":"49.91","currency":"USD"},"description":"Payment page","item_list":{"items":[{"name":"Amazon Fire","price":"49.91","currency":"USD","quantity":1,"category":"PHYSICAL"}],"shipping_address":{"line1":"Magyar utca 5","city":"Barcs","postal_code":"7570","country_code":"HU"}},"related_resources":[]}],"create_time":"2018-07-28T14:50:04Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAY-9SP84070U01516343LNOIFHI","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-91N309107A937632H","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAY-9SP84070U01516343LNOIFHI/execute","rel":"execute","method":"POST"}]}
[16:50:05.476] 28283 [qtp142261320-21] DEBUG c.c.s.controller.PaymentController [PaypalController.java:99] - Payment approved by PayPal
[16:50:05.476] 28283 [qtp142261320-21] DEBUG c.c.s.controller.PaymentController [PaypalController.java:62] - Customer is now redirected to paypal.com
[16:50:22.799] 45606 [qtp142261320-18] DEBUG com.paypal.base.rest.PayPalResource [PayPalResource.java:412] - request header: {Authorization=Bearer A21AAHBtkgkrlXjYdp6jV7cINU0EIt5XGjDScVm1yIvpkltNuxQ6r71LL7IURvLS_2FZmOEwKKlB_dokJvTqPtSz8CecPPS1A, User-Agent=PayPalSDK/  (v=1.8.0_181; vendor=Oracle Corporation; bit=64; os=Linux 4.15.0-29-generic), PayPal-Request-Id=27210332-9625-40be-929a-f73bfbe347c8, Content-Type=application/json}
[16:50:22.800] 45607 [qtp142261320-18] DEBUG com.paypal.base.rest.PayPalResource [PayPalResource.java:413] - request body: {
  "payer_id": "3ZUAU42WVFYHY"
}
[16:50:22.800] 45607 [qtp142261320-18] DEBUG com.paypal.base.HttpConnection [HttpConnection.java:225] - curl command: 
curl --verbose --request POST 'https://api.sandbox.paypal.com/v1/payments/payment/PAY-9SP84070U01516343LNOIFHI/execute' \
  --header "Authorization:Bearer A21AAHBtkgkrlXjYdp6jV7cINU0EIt5XGjDScVm1yIvpkltNuxQ6r71LL7IURvLS_2FZmOEwKKlB_dokJvTqPtSz8CecPPS1A" \
  --header "User-Agent:PayPalSDK/  (v=1.8.0_181; vendor=Oracle Corporation; bit=64; os=Linux 4.15.0-29-generic)" \
  --header "PayPal-Request-Id:27210332-9625-40be-929a-f73bfbe347c8" \
  --header "Content-Type:application/json" \
  --data '{
  "payer_id": "3ZUAU42WVFYHY"
}'
[16:50:25.901] 48708 [qtp142261320-18] DEBUG com.paypal.base.rest.PayPalResource [PayPalResource.java:423] - response: {"id":"PAY-9SP84070U01516343LNOIFHI","intent":"sale","state":"approved","cart":"91N309107A937632H","payer":{"payment_method":"paypal","status":"VERIFIED","payer_info":{"email":"jawas@jawas.org","first_name":"Papp","last_name":"Gergely","payer_id":"3ZUAU42WVFYHY","shipping_address":{"recipient_name":"Papp Gergely","line1":"Magyar utca 5","city":"Barcs","state":"","postal_code":"7570","country_code":"HU"},"country_code":"HU"}},"transactions":[{"amount":{"total":"49.91","currency":"USD","details":{}},"payee":{"merchant_id":"YDPPQSLX8BK7A","email":"thejawas@codecool.com"},"description":"Payment page","item_list":{"items":[{"name":"Amazon Fire","price":"49.91","currency":"USD","quantity":1,"category":"PHYSICAL"}],"shipping_address":{"recipient_name":"Papp Gergely","line1":"Magyar utca 5","city":"Barcs","state":"","postal_code":"7570","country_code":"HU"}},"related_resources":[{"sale":{"id":"6MV7751340240711U","state":"completed","amount":{"total":"49.91","currency":"USD","details":{"subtotal":"49.91"}},"payment_mode":"INSTANT_TRANSFER","protection_eligibility":"ELIGIBLE","protection_eligibility_type":"ITEM_NOT_RECEIVED_ELIGIBLE,UNAUTHORIZED_PAYMENT_ELIGIBLE","transaction_fee":{"value":"2.00","currency":"USD"},"parent_payment":"PAY-9SP84070U01516343LNOIFHI","create_time":"2018-07-28T14:50:23Z","update_time":"2018-07-28T14:50:23Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/sale/6MV7751340240711U","rel":"self","method":"GET"},{"href":"https://api.sandbox.paypal.com/v1/payments/sale/6MV7751340240711U/refund","rel":"refund","method":"POST"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAY-9SP84070U01516343LNOIFHI","rel":"parent_payment","method":"GET"}]}}]}],"create_time":"2018-07-28T14:50:25Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAY-9SP84070U01516343LNOIFHI","rel":"self","method":"GET"}]}
[16:50:25.902] 48709 [qtp142261320-18] DEBUG c.c.s.controller.PaymentController [PaypalPaymentController.java:41] - Payment is successful. PayPal payment ID: PAY-9SP84070U01516343LNOIFHI
[16:50:25.912] 48719 [qtp142261320-13] DEBUG c.c.s.c.PaymentPayedController [PaymentPayedController.java:38] - Payment approved by PayPal
